{% extends 'base.html' %}

{% block content %}
    <h1>Panel de Control: {{ username }}</h1>
    <div style="text-align: center; margin-bottom: 30px;">
        <a href="{{ url_for('nuevo_post') }}" class="btn">‚úçÔ∏è Nueva Rese√±a</a>
    </div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        {% for message in messages %}
          <p style="color: #d4af37; text-align: center;">{{ message }}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <h3>üçø Tus Cr√≠ticas Publicadas</h3>
    {% if posts %}
        <div style="display: flex; flex-direction: column; gap: 15px;">
        {% for post in posts %}
            <div style="background: #252525; padding: 20px; border-radius: 8px; border-left: 4px solid var(--gold);">
                <h4 style="margin: 0; color: var(--gold);">{{ post.titulo }}</h4>
                <p style="color: #bbb; font-size: 0.9rem;">{{ post.contenido }}</p>
                
                <form action="{{ url_for('borrar_post', post_id=post.id) }}" method="POST" style="margin-top: 10px;">
                    <button type="submit" class="btn-delete" onclick="return confirm('¬øSeguro que quieres borrar esta cr√≠tica?')">
                        <i class="fas fa-trash"></i> Eliminar rese√±a
                    </button>
                </form>
            </div>
        {% endfor %}
        </div>
    {% else %}
        <p style="text-align: center;">No has escrito nada todav√≠a.</p>
    {% endif %}
{% endblock %}